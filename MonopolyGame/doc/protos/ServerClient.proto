syntax = "proto3";

// ************************Message Type************************
message SCmsg {
    repeated IdCreateResponse idCreateResponse = 1;
    repeated RoomCreateResponse roomCreateResponse = 2;
    repeated RoomJoinResponse roomJoinResponse = 3;
    repeated GameStartResponse gameStartResponse = 4;
    repeated RoomStatusInform roomStatusInform = 5;
    repeated GameStartInform gameStartInform = 6;
}

// ************************Constants************************
enum Status {
    SUCCESS = 0;
    FAILURE = 1;
}

// ************************Pregame Preparation************************
// response for IdCreateRequest
message IdCreateResponse {
    // 0 for success, 1 for failure
    Status status = 1;
    // empty str for success
    string fail_reason = 2;
} 

// response for RoomCreateRequest
message RoomCreateResponse {
    // 0 for success, 1 for failure
    Status status = 1;
    // 6-digit numbers mixed with letters, 
    // empty str for failure
    string room_code = 4;
    // empty str for success
    string fail_reason = 5;
}

// response for RoomJoinRequest
message RoomJoinResponse {
    // 0 for success, 1 for failure
    Status status= 1;
    // empty str for success
    string fail_reason = 4;
}

// response for GameStartRequest
message GameStartResponse {
    // 0 for success, 1 for failure
    Status status = 1;
    // empty str for success
    string fail_reason = 2;
}

// inform player the room status
// both after people join and people ready to start
message RoomStatusInform {
    int32 player_num = 1;
    string room_status = 3;
}

// Inform the start of game
message GameStartInform {
}

// // ************************Basic round************************
// // inform the player for his/her round
// message RoundStartInform {
//     int32 player_index = 1;
//     int32 round_num = 2;
// }

// // reply the RollDiceRequest with a roll result
// message RollDiceResponse {
//     int32 player_index = 1;
//     int32 roll_result = 2;
// }

// // update the player with the latest board situation
// message BoardUpdate {
//     int32 player_index = 1;
//     string board_json = 2;
// }

// // ack the RoundCommitRequest
// message RoundCommitAck {
//     int32 player_index = 1;
//     int32 round_num = 2;
// }

// // ************************Transaction related************************
// // inform the receiver about the transaction request
// message TransactionInform {
//     string transaction_identifier = 1;// sender#receiver#UTC-Timestamp
//     int32 sender_player_index = 2;
//     int32 receiver_player_index = 3;
//     string sender_item = 4;
//     string receiver_item = 5;
// }

// // send to both the requester and accepter when transaction is confirmed
// message TransactionConfirm {
//     string transaction_identifier = 1;
// }

// // send to both the requester and accepter when transaction is rejected
// message TransactionAbandon {
//     string transaction_identifier = 1;
// }